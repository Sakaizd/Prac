(function(e){function t(t){for(var n,a,i=t[0],c=t[1],l=t[2],d=0,f=[];d<i.length;d++)a=i[d],r[a]&&f.push(r[a][0]),r[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],n=!0,i=1;i<o.length;i++){var c=o[i];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={app:0},s=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"00f8":function(e,t,o){},"023e":function(e,t,o){"use strict";var n=o("843b"),r=o.n(n);r.a},"096c":function(e,t,o){},"18dc":function(e,t,o){"use strict";var n=o("52ff"),r=o.n(n);r.a},"1df0":function(e,t,o){},2108:function(e,t,o){"use strict";var n=o("d579"),r=o.n(n);r.a},"44cd":function(e,t,o){"use strict";var n=o("4f10"),r=o.n(n);r.a},"4f10":function(e,t,o){},"52ff":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("HelloWorld")],1)},s=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("el-container",[n("el-header",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:5}},[n("div",{staticStyle:{display:"inline-block",float:"left"}},[n("router-link",{attrs:{to:"/index"},nativeOn:{click:function(t){return e.handleChangePage(!0)}}},[e._v("主页")]),e.isLogin?n("span",{staticStyle:{margin:"20px"}},[e._v("Hello "+e._s(e.getUser.username))]):e._e()],1)]),n("el-col",{attrs:{span:5}},[n("div",{staticStyle:{display:"inline-block",float:"left"}},[n("img",{attrs:{src:o("cf05"),width:"20%"}})])]),n("el-col",{attrs:{span:3}},[n("div",{staticStyle:{display:"inline-block",float:"left"}},[e._v("\n              aaa\n          ")])]),n("el-col",{attrs:{span:11}},[n("div",{staticStyle:{display:"inline-block",float:"right"}},[n("ul",[n("li",[n("span",[n("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],attrs:{to:"/LoginPage"},nativeOn:{click:function(t){return e.handleChangePage(!1)}}},[e._v("\n                        登陆账号\n                      ")]),n("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],staticStyle:{"text-align":"center"}},[n("span",{staticClass:"el-dropdown-link"},[e._v("\n                          我的账户"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("router-link",{attrs:{to:{name:"QueryUserData",params:{username:e.getUser.username}}},nativeOn:{click:function(t){return e.getUserInfoForVuex()}}},[e._v("\n                                个人信息\n                              ")])],1),n("br"),n("el-dropdown-item",[n("router-link",{attrs:{to:"/ModifyPage"}},[e._v("修改资料")])],1),n("br"),n("el-dropdown-item",[n("router-link",{attrs:{to:"/ModifyPassWord"}},[e._v("修改密码")])],1),n("br"),n("el-dropdown-item",[n("button",{staticStyle:{background:"rgba(51, 51, 51, 0)",border:"0","text-align":"left",padding:"0",width:"100%"},on:{click:function(t){return e.LogoutUser()}}},[e._v("\n                                登出账户\n                              ")])])],1)],1)],1)]),n("li",[n("span",[n("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],attrs:{to:"/MyCart"},nativeOn:{click:function(t){return e.getCartList()}}},[e._v("我的购物车")]),n("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],attrs:{to:"/MyCart"},nativeOn:{click:function(t){return e.getCartList()}}},[e._v("我的订单")])],1),n("span",[n("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],attrs:{to:"/RegisterPage"},nativeOn:{click:function(t){return e.handleChangePage(!1)}}},[e._v("\n                        注册账号\n                      ")])],1)])])])])],1)],1),n("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[n("transition",{attrs:{name:"el-fade-in-linear"}},[n("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.inMarket,expression:"inMarket"}],attrs:{width:"200px"}},[n("el-button",{staticClass:"el-icon-s-fold",staticStyle:{float:"right",width:"100%","margin-bottom":"45px",background:"#D3DCE6","font-size":"35px"},attrs:{type:"parmary"},on:{click:function(t){return e.handleChangePage(!e.inMarket)}}}),n("NavPanel")],1)],1),n("transition",{attrs:{name:"el-fade-in-linear"}},[n("el-aside",{directives:[{name:"show",rawName:"v-show",value:!e.inMarket,expression:"!inMarket"}],staticClass:"closeBar",attrs:{width:"50px"}},[n("el-button",{staticClass:"el-icon-s-unfold",staticStyle:{"font-size":"20px",float:"left",height:"100%"},attrs:{type:"parmary"},on:{click:function(t){return e.handleChangePage(!e.inMarket)}}})],1)],1),n("el-main",[n("router-view",{on:{loginSuccess:e.setUser}})],1)],1),n("el-footer",[e._v("Footer")])],1)],1)},i=[],c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("nav",[o("ul",[o("li",[o("button",{on:{click:function(t){return e.transferCondition("联想")}}},[e._v("联想")])]),o("li",[o("button",{on:{click:function(t){return e.transferCondition("ASUS")}}},[e._v("ASUS")])]),o("li",[o("button",{on:{click:function(t){return e.transferCondition("DELL")}}},[e._v("DELL")])]),o("li",[o("button",{on:{click:function(t){return e.transferCondition("HUAWEI")}}},[e._v("HUAWEI")])]),o("li",[o("button",{on:{click:function(t){return e.transferCondition("XIAOMI")}}},[e._v("XIAOMI")])]),o("li",[o("button",{on:{click:function(t){return e.transferCondition("*")}}},[e._v("ALLBrandI")])])])])])},l=[],u={data:function(){return{}},methods:{transferCondition:function(e){this.$store.dispatch("ModifyBrand",e)}}},d=u,f=(o("18dc"),o("2877")),m=Object(f["a"])(d,c,l,!1,null,"273b496c",null),p=m.exports,g={name:"HelloWorld",data:function(){return{inMarket:!0}},components:{NavPanel:p},computed:{getUser:function(){return this.$store.state.user},isLogin:function(){return this.getUser.isLogin},brand:function(){return this.$store.state.productBrand}},methods:{handleChangePage:function(e){console.log("change Page!"),this.inMarket=e},setUser:function(){""!=this.getUser.username&&console.log("not empty"),this.inMarket=!0},getUserInfoForVuex:function(){console.log("get before"),this.$store.dispatch("setUserInfo"),console.log("get after the vuex state"),console.log(this.$store.state)},LogoutUser:function(){this.$store.dispatch("logout"),this.$router.push("/index")},getCartList:function(){this.$store.dispatch("getCartList")}}},h=g,b=(o("7ba0"),Object(f["a"])(h,a,i,!1,null,"47ef18a8",null)),v=b.exports,w=o("bc3a"),y=o.n(w),C={name:"app",components:{HelloWorld:v},created:function(){var e=this;y.a.get("/getLoginUser").then(function(t){console.log("init get successfully"),console.log(t),e.$store.dispatch("CheckLoginUser",t.data.username)}).catch(function(e){console.log("init get error"),console.log(e)})}},_=C,O=Object(f["a"])(_,r,s,!1,null,"0d502d85",null),$=O.exports,k=o("5c96"),x=o.n(k),P=(o("0fae"),o("8c4f")),I=o("a7fe"),L=o.n(I),j=o("2f62"),S=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{attrs:{gutter:10}},e._l(e.ProductList,function(e,t){return o("el-col",{key:t,attrs:{span:4}},[o("ProductCard",{attrs:{product:e}})],1)}),1)],1)},M=[],U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{attrs:{"body-style":{padding:"0px",height:"400px",padding:"0"}}},[o("div",{staticStyle:{height:"60%",width:"100%"}},[o("img",{staticClass:"image",staticStyle:{height:"100%",float:"left",width:"100%"},attrs:{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png"}})]),o("div",[o("router-link",{attrs:{to:{name:"productInfo",params:{id:e.product.id}}}},[o("p",[e._v(e._s(e.product.brandName)+" "+e._s(e.product.name)+" : "+e._s(e.product.price))])]),o("el-button",{attrs:{icon:"el-icon-plus",disabled:!e.isLogin},on:{click:function(t){return e.addToCartList()}}},[e._v("加入购物车")])],1)])},T=[],N=(o("8e6e"),o("ac6a"),o("456d"),o("bd86"));function E(e,t){var o=Object.keys(e);return Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(e)),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o}function A(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?E(o,!0).forEach(function(t){Object(N["a"])(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):E(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var D={props:["product"],methods:{addToCartList:function(){console.log("Id："+this.product.id),this.$store.dispatch("addToCartList",A({},this.product,{count:1}))}},computed:{isLogin:function(){return this.$store.state.user.isLogin}}},B=D,W=(o("cb0a"),Object(f["a"])(B,U,T,!1,null,"4288591a",null)),z=W.exports,G={data:function(){return{}},created:function(){console.log("init"),this.$store.dispatch("getAllProductList")},components:{ProductCard:z},computed:{ProductList:function(){var e=this;return"*"!==this.$store.state.productBrand?this.$store.state.products.filter(function(t){return t.brandName===e.$store.state.productBrand}):this.$store.state.products}}},R=G,F=(o("023e"),Object(f["a"])(R,S,M,!1,null,"ee736252",null)),H=F.exports,V=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"Username","label-position":"right"}},[o("el-input",{attrs:{size:"small"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:"Password","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("Login")])],1)],1)],1)],1)},Q=[],J=o("5118"),X=(o("3e8f"),{data:function(){return{form:{username:"",password:""}}},methods:{onSubmit:function(){var e=this;console.log("submit!"),this.$store.dispatch("setUser",this.form),console.log("loading"),Object(J["setTimeout"])(function(){e.isLoginSuceessfully?(console.log("login suceess in vue"),console.log("vuex isLogin"+e.$store.state.user.isLogin),e.$emit("loginSuccess"),e.$router.push({name:e.routerName})):(console.log("login fail in Vue"),e.form={username:"",password:""},console.log(e.$store.state.loginMsg),e.$alert(e.$store.state.loginMsg,"Warning!",{confirmButtonText:"确定",callback:function(e){}}))},500)}},computed:{routerName:function(){return this.$store.state.routerName},isLoginSuceessfully:function(){return this.$store.state.user.isLogin}}}),q=X,K=(o("aa39"),Object(f["a"])(q,V,Q,!1,null,"3dc568ce",null)),Y=K.exports,Z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"用户名","label-position":"right"}},[o("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:"密码","label-position":"right"}},[o("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.Register()}}},[e._v("注册")]),o("el-button",{attrs:{type:"danger",round:""}},[e._v("取消")])],1)],1)],1)],1)},ee=[],te="/login",oe="/logout",ne="/getUserInfo",re="/register",se="/passwdModify",ae="",ie="/getAllProducts",ce="/getCartList",le="/getTotalPrice",ue="/addToCart",de="/changeCart",fe="/orderGen",me={loginApi:te,logoutApi:oe,getUserInfoApi:ne,registerApi:re,ModifyPwdApi:se,ModifyUserInfo:ae,getProductList:ie,getCartList:ce,getTotalPrice:le,addToCart:ue,ChangeCart:de,genOrder:fe},pe={data:function(){return{form:{username:"",password:""}}},methods:{Register:function(){console.log("start register!"),this.axios.post(me.registerApi,{username:this.form.username,password:this.form.password}).then(function(e){console.log("receive sucessful"),console.log(e);var t=e.data.router,o=e.data.msg;console.log(t+"\n"+o),console.log("register sucessfully"),this.$router.push({name:t})}.bind(this)).catch(function(e){console.log("can't connnect"),console.log(e)})}}},ge=pe,he=(o("daa5"),Object(f["a"])(ge,Z,ee,!1,null,"51fd09ea",null)),be=he.exports,ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"Email","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"text"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),o("el-form-item",{attrs:{label:"Address","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"text"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),o("el-form-item",{attrs:{label:"Telephone","label-position":"right",type:"number",prop:"telephone",rules:[{required:!0,message:"号码不能为空"},{type:"number",message:"号码必须为数字值"}]}},[o("el-input",{attrs:{type:"age",size:"small",maxlength:"11",minlength:"11",autocomplete:"off"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",e._n(t))},expression:"form.telephone"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.UpdateUserInfo}},[e._v("Confirm")])],1)],1)],1)],1)},we=[],ye=(o("7f7f"),{data:function(){return{form:{email:"aaaaaaaaaaa",address:"ssssssss",telephone:""}}},methods:{UpdateUserInfo:function(){}},computed:{getUserInfo:function(){return{username:this.$store.state.user.username,name:this.$store.state.user.name,email:this.$store.state.user.email,address:this.$store.state.user.address,telephone:this.$store.state.user.telephone,idcard:this.$store.state.user.idcard}}}}),Ce=ye,_e=(o("9bc6"),Object(f["a"])(Ce,ve,we,!1,null,"35ebf870",null)),Oe=_e.exports,$e=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"OldPassWord","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.oldpassword,callback:function(t){e.$set(e.form,"oldpassword",t)},expression:"form.oldpassword"}})],1),o("el-form-item",{attrs:{label:"NewPassword","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.newpassword1,callback:function(t){e.$set(e.form,"newpassword1",t)},expression:"form.newpassword1"}})],1),o("el-form-item",{attrs:{label:"NewPassword","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.newpassword2,callback:function(t){e.$set(e.form,"newpassword2",t)},expression:"form.newpassword2"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("login")])],1)],1)],1)],1)},ke=[],xe={data:function(){return{form:{oldpassword:"",newpassword1:"",newpassword2:""},pass:-1,checkpass:-1}},methods:{onSubmit:function(){var e=this;this.form.newpassword1!=this.form.newpassword2?(this.form={oldpassword:"",newpassword1:"",newpassword2:""},this.$alert("新密码不一致","Warning!",{confirmButtonText:"确定",callback:function(e){}})):this.form.oldpassword===this.form.newpassword1||this.form.oldpassword===this.form.newpassword2?(this.form={oldpassword:"",newpassword1:"",newpassword2:""},this.$alert("新旧密码重复","Warning!",{confirmButtonText:"确定",callback:function(e){}})):""===this.form.newpassword1||""===this.form.newpassword2?(this.form={oldpassword:"",newpassword1:"",newpassword2:""},this.$alert("新密码为空","Warning!",{confirmButtonText:"确定",callback:function(e){}})):(this.$store.dispatch("modifyPwd",this.form.newpassword1),Object(J["setTimeout"])(function(){"ModifySuccess"===e.$store.state.ModifyPwdMsg?e.$router.push({name:e.routerName}):(e.form={oldpassword:"",newpassword1:"",newpassword2:""},e.$alert("旧密码密码错误","Warning!",{confirmButtonText:"确定",callback:function(e){}}))},1e3))}},computed:{getUser:function(){return this.$store.state.user},routerName:function(){return this.$store.state.routerName}}},Pe=xe,Ie=(o("69f6"),Object(f["a"])(Pe,$e,ke,!1,null,"7030bea8",null)),Le=Ie.exports,je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("UserInfo")]),o("ul",e._l(e.getUserInfo,function(t,n,r){return o("li",{key:r},[e._v("\n            "+e._s(n)+" is "+e._s(t)+"\n        ")])}),0)])},Se=[],Me={computed:{getUserInfo:function(){return{username:this.$store.state.user.username,name:this.$store.state.user.name,email:this.$store.state.user.email,address:this.$store.state.user.address,telephone:this.$store.state.user.telephone,idcard:this.$store.state.user.idcard}}}},Ue=Me,Te=(o("7c5b"),Object(f["a"])(Ue,je,Se,!1,null,"c823bba0",null)),Ne=Te.exports,Ee=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("img",{staticClass:"image",staticStyle:{height:"200px",margin:"auto"},attrs:{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png"}}),o("p",[e._v(e._s(e.getProduct.brandName)+"-"+e._s(e.getProduct.name)+" : $"+e._s(e.getProduct.price))]),o("p",[e._v(e._s(e.getProduct.description))])])},Ae=[],De={data:function(){return{id:this.$route.params.id}},computed:{getProduct:function(){console.log("this id is "+this.id);for(var e=0;e<this.$store.state.products.length;e++)if(this.$store.state.products[e].id===this.id)return console.log(this.$store.state.products[e]),this.$store.state.products[e]}}},Be=De,We=Object(f["a"])(Be,Ee,Ae,!1,null,"23a66fa3",null),ze=We.exports,Ge=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-container",{staticStyle:{"line-height":"200px"}},[o("el-header",{attrs:{height:"200px"}},[o("el-carousel",{attrs:{trigger:"click",height:"200px",width:"105%"}},e._l(4,function(t){return o("el-carousel-item",{key:t},[o("h3",{staticClass:"small"},[e._v(e._s(t))])])}),1)],1),o("el-main",e._l(e.getCartList,function(t,n){return o("CartItem",{key:n,attrs:{CartItem:t},on:{add:function(o){return e.AddToCartTemp(t)},remove:function(o){return e.RemoveFromCartTemp(t)}}})}),1),o("el-footer",[o("router-link",{staticStyle:{float:"right"},attrs:{to:{name:"GenOrder"}},nativeOn:{click:function(t){return e.GenOrder()}}},[e._v("\n                生成订单\n              ")])],1)],1)],1)},Re=[],Fe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:6}},[o("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}}),o("el-image",{staticStyle:{width:"140px",height:"140px"},attrs:{src:e.url,fit:e.fit}})],1),o("el-col",{attrs:{span:6}},[o("h4",[e._v(e._s(e.CartItem.brandName)+" "+e._s(e.CartItem.productName))]),o("p",[e._v(e._s(e.CartItem.description))]),o("p",[e._v(e._s(e.CartItem.price))])]),o("el-col",{staticStyle:{"line-height":"148px"},attrs:{span:6}},[o("div",{staticStyle:{"text-align":"center"}},[o("span",[e._v("\n                    购买数量:\n                ")]),o("span",[o("el-button",{on:{click:e.ReduceCount}},[e._v("-")]),o("span",[e._v(e._s(e.ItemCount))]),o("el-button",{on:{click:e.AddCount}},[e._v("+")])],1)])]),o("el-col",{attrs:{span:4}},[o("p",[e._v("小计 $ "+e._s(e.SingleTotalPrice))])]),o("el-col",{attrs:{span:2}},[o("el-button",{on:{click:function(t){return e.removeItem()}}},[e._v("移除此项")])],1)],1),o("el-divider")],1)},He=[],Ve={props:["CartItem"],data:function(){return{url:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",checked:!1}},methods:{AddCount:function(){this.ChangeCount(1)},ReduceCount:function(){this.ChangeCount(-1)},ChangeCount:function(e){console.log("In Vue Change count"),this.$store.dispatch("ChangeCartItemCount",{productId:this.CartItem.productId,count:e})},removeItem:function(){}},computed:{ProductItem:function(){var e=this;return this.$store.state.products.filter(function(t){return t.id===e.CartItem.id})},SingleTotalPrice:function(){return this.CartItem.count*this.CartItem.price},ItemCount:function(){return this.CartItem.count}},watch:{checked:function(e,t){e?(console.log(this.CartItem.id+" be select "+this.checked),this.$emit("add")):(console.log(this.CartItem.id+" be unselect "+this.checked),this.$emit("remove"))},count:function(e,t){console.log("old value "+t),console.log("new value "+e),console.log("final val "+this.count)}}},Qe=Ve,Je=(o("44cd"),Object(f["a"])(Qe,Fe,He,!1,null,"dc79b14c",null)),Xe=Je.exports;function qe(e,t){var o=Object.keys(e);return Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(e)),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o}function Ke(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?qe(o,!0).forEach(function(t){Object(N["a"])(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):qe(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var Ye={data:function(){return{cartTemp:[]}},components:{CartItem:Xe},methods:{AddToCartTemp:function(e){console.log("add"),this.cartTemp.push(e),console.log(this.cartTemp)},RemoveFromCartTemp:function(e){console.log("remove"),this.cartTemp=this.cartTemp.filter(function(t){return t.id!==e.id}),console.log(this.cartTemp)},GenOrder:function(){var e=this;this.$store.dispatch("SetCartTemp",this.cartTemp),console.log("gen success"),Object(J["setTimeout"])(function(){e.$router.push(e.$store.state.routerName)},500)}},computed:{getCartList:function(){return Ke({},this.$store.state.user.cart)}}},Ze=Ye,et=(o("2108"),Object(f["a"])(Ze,Ge,Re,!1,null,"ec3697d8",null)),tt=et.exports,ot=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div")},nt=[],rt={},st=rt,at=Object(f["a"])(st,ot,nt,!1,null,"aacb7616",null),it=at.exports,ct=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._v("\n    MyOrders\n")])},lt=[],ut={computed:{MyOrder:function(){return this.$store.state.user.order}}},dt=ut,ft=Object(f["a"])(dt,ct,lt,!1,null,"67a8b111",null),mt=ft.exports,pt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.CartTempList}},[o("el-table-column",{attrs:{label:"品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.brandId))])]}}])}),o("el-table-column",{attrs:{prop:"productName",label:"名称"}}),o("el-table-column",{attrs:{label:"价格小计"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count*t.row.price))])]}}])})],1),o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[o("el-form-item",{attrs:{label:"邮寄人姓名"}},[o("el-input",{attrs:{placeholder:"邮寄人姓名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),o("el-form-item",{attrs:{label:"邮寄地址"}},[o("el-input",{attrs:{placeholder:"邮寄地址"},model:{value:e.formInline.address,callback:function(t){e.$set(e.formInline,"address",t)},expression:"formInline.address"}})],1),o("el-form-item",{attrs:{label:"电话号码"}},[o("el-input",{attrs:{placeholder:"电话号码"},model:{value:e.formInline.telephone,callback:function(t){e.$set(e.formInline,"telephone",t)},expression:"formInline.telephone"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.ConfirmOrder()}}},[e._v("确认订单")])],1)],1)],1)},gt=[],ht=o("75fc"),bt={data:function(){return{formInline:{name:this.$store.state.user.name,address:this.$store.state.user.address,telephone:this.$store.state.user.telephone}}},methods:{ConfirmOrder:function(){var e=this;this.$store.dispatch("OrderGen",{order:[this.formInline].concat(Object(ht["a"])(CartTempList))}),Object(J["setTimeout"])(function(){"myOrders"===e.$store.state.routerName?e.$router.push({name:e.$store.state.routerName}):(e.$router.push({name:e.$store.state.routerName}),console.log("generate order fail"))},500)}},computed:{CartTempList:function(){return this.$store.state.user.cartTemp}}},vt=bt,wt=Object(f["a"])(vt,pt,gt,!1,null,"69250de8",null),yt=wt.exports,Ct=[{path:"/",name:"default",component:H},{path:"/product",name:"productInfo",component:ze},{path:"/MyCart",name:"mycart",component:tt},{path:"/MyOrder",name:"myorder",component:mt},{path:"/PayForCart",name:"payforcart",component:it},{path:"/MyOrders",name:"myorders",component:mt},{path:"/GenOrder",name:"genorder",component:yt},{path:"/LoginPage",name:"login",component:Y},{path:"/RegisterPage",name:"register",component:be},{path:"/ModifyPassWord",name:"modifyPassWord",component:Le},{path:"/QueryDataPage/:username",name:"QueryUserData",component:Ne},{path:"/ModifyPage",name:"modifyData",component:Oe},{path:"/index",redirect:"/"},{path:"/404",redirect:"/"}],_t=Ct;function Ot(e,t){var o=Object.keys(e);return Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(e)),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o}function $t(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ot(o,!0).forEach(function(t){Object(N["a"])(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ot(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var kt={state:{user:{uid:"",username:"guest",password:"",email:"",address:"",telephone:"",name:"",idcard:"",isLogin:!1,cart:[],cartTemp:[],order:[]},products:[],productBrand:"*",routerName:"",ModifyPwdMsg:"",loginMsg:""},mutations:{modifyBrand:function(e,t){e.productBrand=t},CheckLoginUser:function(e,t){"guest"!==t?(e.user.username=t,e.user.isLogin=!0):e.user.isLogin=!1},setUser:function(e,t){console.log("inner data is "),console.log(t),e.loginMsg=t.data.msg,"LoginSuccess"===t.data.msg?(e.user.username=t.newUser.username,e.user.password=t.newUser.password,e.routerName=t.data.router,e.user.isLogin=!0):(e.routerName="login",e.user.isLogin=!1)},setLoginMsg:function(e,t){e.loginMsg=t},setUserInfo:function(e,t){console.log(t),e.routerName=t.data[0].router,e.user.email=t.data[1].email,e.user.telephone=t.data[1].telephone,e.user.name=t.data[1].name,e.user.address=t.data[1].address,e.user.idcard=t.data[1].idcard},modifyUserInfo:function(e,t){console.log(e),console.log(t)},modifyPwd:function(e,t){"ModifySuccess"===t.data.msg?(console.log("modify successfully"),e.user.password=t.newpwd,e.user.address=t.data[1].address,e.user.email=t.data[1].email,e.user.uid=t.data[1].uid,e.user.telephone=t.data[1].telephone,e.user.name=t.data[1].name,e.user.idcard=t.data[1].idcard):console.log("ModifyFail"),e.ModifyPwdMsg=t.data[0].msg,console.log("local msg is:"+e.ModifyPwdMsg),e.routerName=t.data[0].router},logout:function(e,t){e.user=$t({},{uid:"",username:"",password:"",email:"",address:"",telephone:"",name:"",idcard:"",isLogin:!1,cart:[],order:[]}),e.loginMsg="",e.routerName=t.data.router},getAllProductList:function(e,t){e.products=t.data},getCartList:function(e,t){e.user.cart=t.data},SetCartTemp:function(e,t){e.user.cartTemp=t,e.routerName="genorder"},ChangeCartItemCount:function(e,t){console.log("inner data"),console.log(t);for(var o=0;o<e.user.cart.length;o++)e.user.cart[o].productId===t.productId&&(e.user.cart[o].count=t.tempCount)},OrderGen:function(e,t){e.routerName=t.router}},actions:{ModifyBrand:function(e,t){e.commit("modifyBrand",t)},CheckLoginUser:function(e,t){e.commit("CheckLoginUser",t)},setUser:function(e,t){y.a.post(me.loginApi,{username:t.username,password:t.password}).then(function(o){console.log("receive sucessful"),console.log(o),"default"===o.data.router?(console.log("login suceess"),e.commit("setUser",$t({},o,{newUser:t}))):(console.log("login fail error username"),e.commit("setLoginMsg",o.data.msg))}).catch(function(e){console.log("can't connnect"),console.log(e)})},setUserInfo:function(e){y.a.post(me.getUserInfoApi,{username:e.state.user.username}).then(function(t){console.log("gup receive sucessful"),console.log(t),e.commit("setUserInfo",t)}).catch(function(e){console.log("gup can't connnect"),console.log(e)})},modifyPwd:function(e,t){y.a.post(me.ModifyPwdApi,{password:e.state.user.password,newpassword:t}).then(function(o){console.log("receive successfully"),console.log(o),e.commit("modifyPwd",$t({},o,{newpwd:t}))}).catch(function(e){console.log("modifypwd fail"),console.log(e)})},modifyUserInfo:function(e,t){e.commit("modifyUserInfo",t)},logout:function(e){y.a.get(me.logoutApi).then(function(t){console.log("logout successfully"),console.log(t),e.commit("logout",t)}).catch(function(e){console.log("logout fail"),console.log(e)})},getAllProductList:function(e){y.a.get(me.getProductList).then(function(t){console.log("get list successfully"),console.log(t),e.commit("getAllProductList",t),console.log(e.state.products)}).catch(function(e){console.log("get list fail"),console.log(e)})},getCartList:function(e){y.a.get(me.getCartList).then(function(t){console.log("get Cartlist suceess"),console.log(t),e.commit("getCartList",t),console.log("local cart: "),console.log(e.state.user.cart)}).catch(function(e){console.log("get Cartlist fail"),console.log(e)})},addToCartList:function(e,t){y.a.post(me.addToCart,{productId:t.id,count:t.count}).then(function(t){"success"===t.data.msg?(console.log("add suceess"),console.log(t),e.dispatch("getCartList")):(console.log("add fail"),console.log(error))}).catch(function(e){console.log("add fail"),console.log(e)})},SetCartTemp:function(e,t){e.commit("SetCartTemp",t)},ChangeCartItemCount:function(e,t){y.a.post(me.ChangeCart,t).then(function(o){console.log("change count success"),"success"===o.data.msg?e.commit("ChangeCartItemCount",{productId:t.productId,tempCount:o.data.count}):console.log("change count fail")}).catch(function(e){console.log("connect fail"),console.log(e)})},OrderGen:function(e,t){y.a.post(me.genOrder,t).then(function(t){console(t),"success"===t.data.msg&&e.commit("OrderGen",t.data)}).catch(function(e){console.log("connect fail"),console.log(e)})}}},xt=kt;n["default"].use(P["a"]),n["default"].use(x.a),n["default"].use(L.a,y.a),n["default"].use(j["a"]),n["default"].config.productionTip=!1;var Pt=new P["a"]({mode:"history",routes:_t}),It=new j["a"].Store(xt);new n["default"]({router:Pt,store:It,render:function(e){return e($)}}).$mount("#app")},"69f6":function(e,t,o){"use strict";var n=o("00f8"),r=o.n(n);r.a},"7ba0":function(e,t,o){"use strict";var n=o("b4c1"),r=o.n(n);r.a},"7c5b":function(e,t,o){"use strict";var n=o("b176"),r=o.n(n);r.a},"7da1":function(e,t,o){},"7ffc":function(e,t,o){},"843b":function(e,t,o){},"9bc6":function(e,t,o){"use strict";var n=o("096c"),r=o.n(n);r.a},aa39:function(e,t,o){"use strict";var n=o("7ffc"),r=o.n(n);r.a},b176:function(e,t,o){},b4c1:function(e,t,o){},cb0a:function(e,t,o){"use strict";var n=o("7da1"),r=o.n(n);r.a},cf05:function(e,t,o){e.exports=o.p+"img/logo.82b9c7a5.png"},d579:function(e,t,o){},daa5:function(e,t,o){"use strict";var n=o("1df0"),r=o.n(n);r.a}});
//# sourceMappingURL=app.41ffc93c.js.map