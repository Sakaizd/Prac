(function(e){function t(t){for(var r,a,i=t[0],l=t[1],c=t[2],d=0,f=[];d<i.length;d++)a=i[d],n[a]&&f.push(n[a][0]),n[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],r=!0,i=1;i<o.length;i++){var l=o[i];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=o[0]))}return e}var r={},n={app:0},s=[];function a(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=r,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"01e2":function(e,t,o){"use strict";var r=o("f908"),n=o.n(r);n.a},"0ff6":function(e,t,o){},1617:function(e,t,o){"use strict";var r=o("c69b"),n=o.n(r);n.a},"194a":function(e,t,o){"use strict";var r=o("ad31"),n=o.n(r);n.a},"19d4":function(e,t,o){"use strict";var r=o("8eb7"),n=o.n(r);n.a},"3b12":function(e,t,o){},"49ca":function(e,t,o){"use strict";var r=o("928b"),n=o.n(r);n.a},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("HelloWorld")],1)},s=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("el-container",[r("el-header",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("div",{staticStyle:{display:"inline-block",float:"left"}},[r("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isAdmin,expression:"!isAdmin"}],attrs:{to:"/index"}},[e._v("主页")]),e.isLogin?r("span",{staticStyle:{margin:"20px","margin-left":"50px"}},[e._v("\n                  Hello "+e._s(e.getUser.username)+"\n                ")]):e._e()],1)]),r("el-col",{attrs:{span:5}},[r("div",{staticStyle:{display:"inline-block",float:"left"}},[r("img",{attrs:{src:o("cf05"),width:"20%"}})])]),r("el-col",{attrs:{span:5}},[r("div",{staticStyle:{display:"inline-block",float:"left","margin-left":"25px"}},[e._v("\n              欢迎来到在线手机电脑商城！\n          ")])]),r("el-col",{attrs:{span:9}},[r("div",{staticStyle:{display:"inline-block",float:"right"}},[r("ul",[r("li",[r("span",[r("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],attrs:{to:"/LoginPage"},nativeOn:{click:function(t){return e.handleChangePage(!1)}}},[e._v("\n                        登陆账号\n                      ")]),r("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.isLogin&&!e.isAdmin,expression:"isLogin && !isAdmin"}],staticStyle:{"text-align":"center"}},[r("span",{staticClass:"el-dropdown-link"},[e._v("\n                          我的账户"),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[r("router-link",{attrs:{to:{name:"QueryUserData",params:{username:e.getUser.username}}},nativeOn:{click:function(t){return e.getUserInfoForVuex()}}},[e._v("\n                                个人信息\n                              ")])],1),r("br"),r("el-dropdown-item",[r("router-link",{attrs:{to:"/ModifyPage"},nativeOn:{click:function(t){return e.updateUserInfo()}}},[e._v("修改资料")])],1),r("br"),r("el-dropdown-item",[r("router-link",{attrs:{to:"/ModifyPassWord"},nativeOn:{click:function(t){return e.handleChangePage(!1)}}},[e._v("\n                                修改密码\n                              ")])],1),r("br"),r("el-dropdown-item",[r("button",{staticStyle:{background:"rgba(51, 51, 51, 0)",border:"0","text-align":"left",padding:"0",width:"100%"},on:{click:function(t){return e.LogoutUser()}}},[e._v("\n                                登出账户\n                              ")])])],1)],1)],1)]),r("li",[r("span",[r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isLogin&&!e.isAdmin,expression:"isLogin && !isAdmin"}],attrs:{to:"/MyCart"},nativeOn:{click:function(t){return e.getCartList()}}},[e._v("\n                        我的购物车\n                     ")]),r("router-link",{directives:[{name:"show",rawName:"v-show",value:e.isLogin&&!e.isAdmin,expression:"isLogin && !isAdmin"}],attrs:{to:"/MyOrders"},nativeOn:{click:function(t){return e.getOrderList()}}},[e._v("\n                        我的订单\n                    ")])],1),r("span",[r("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],attrs:{to:"/RegisterPage"},nativeOn:{click:function(t){return e.handleChangePage(!1)}}},[e._v("\n                        注册账号\n                      ")])],1)])])])])],1)],1),r("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[r("transition",{attrs:{name:"el-fade-in-linear"}},[r("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.inMarket&&!e.isAdmin,expression:"inMarket && !isAdmin"}],attrs:{width:"200px"}},[r("el-button",{staticClass:"el-icon-s-fold",staticStyle:{float:"right",width:"100%","margin-bottom":"45px",background:"#D3DCE6","font-size":"35px"},attrs:{type:"parmary"},on:{click:function(t){return e.handleChangePage(!1)}}}),r("NavPanel")],1)],1),r("transition",{attrs:{name:"el-fade-in-linear"}},[r("el-aside",{directives:[{name:"show",rawName:"v-show",value:!e.inMarket,expression:"!inMarket"}],staticClass:"closeBar",attrs:{width:"50px"}},[r("el-button",{staticClass:"el-icon-s-unfold",staticStyle:{"font-size":"20px",float:"left",height:"100%"},attrs:{type:"parmary",disabled:"default"!==this.$route.name},on:{click:function(t){return e.handleChangePage(!0)}}})],1)],1),r("el-main",[r("router-view",{on:{leaveMarket:function(t){return e.handleChangePage(!1)}}})],1)],1),r("el-footer",[e._v("Footer")])],1)],1)},i=[],l=(o("7f7f"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("nav",[o("ul",[o("li",[o("el-button",{on:{click:function(t){return e.transferCondition("联想")}}},[e._v("联想")])],1),o("li",[o("el-button",{on:{click:function(t){return e.transferCondition("ASUS")}}},[e._v("ASUS")])],1),o("li",[o("el-button",{on:{click:function(t){return e.transferCondition("DELL")}}},[e._v("DELL")])],1),o("li",[o("el-button",{on:{click:function(t){return e.transferCondition("HUAWEI")}}},[e._v("HUAWEI")])],1),o("li",[o("el-button",{on:{click:function(t){return e.transferCondition("XIAOMI")}}},[e._v("XIAOMI")])],1),o("li",[o("el-button",{on:{click:function(t){return e.transferCondition("*")}}},[e._v("ALLBrandI")])],1)])])])}),c=[],u={data:function(){return{}},methods:{transferCondition:function(e){this.$store.dispatch("ModifyBrand",e)}}},d=u,f=(o("01e2"),o("2877")),p=Object(f["a"])(d,l,c,!1,null,"d9c9edfc",null),m=p.exports,g={name:"HelloWorld",data:function(){return{inMarket:!0}},components:{NavPanel:m},computed:{getUser:function(){return this.$store.state.user},isLogin:function(){return this.getUser.isLogin},brand:function(){return this.$store.state.productBrand},isAdmin:function(){return"adminPage"===this.$route.name}},methods:{handleChangePage:function(e){console.log("change Page!"),this.inMarket=e},getUserInfoForVuex:function(){this.handleChangePage(!1),console.log("get before"),this.$store.dispatch("setUserInfo"),console.log("get after the vuex state"),console.log(this.$store.state)},updateUserInfo:function(){this.handleChangePage(!1),console.log("updated before"),this.$store.dispatch("updateUserInfo"),console.log("updated after the vuex state"),console.log(this.$store.state)},LogoutUser:function(){this.$store.dispatch("logout"),this.$router.push("/index")},getCartList:function(){this.handleChangePage(!1),this.$store.dispatch("getCartList")},getOrderList:function(){this.handleChangePage(!1),this.$store.dispatch("getOrdersList")}}},h=g,b=(o("7cab"),Object(f["a"])(h,a,i,!1,null,"6cd3785f",null)),v=b.exports,w=o("bc3a"),y=o.n(w),O={name:"app",components:{HelloWorld:v},created:function(){var e=this;y.a.get("/getLoginUser").then(function(t){console.log("init get successfully"),console.log(t),e.$store.dispatch("CheckLoginUser",t.data.username)}).catch(function(e){console.log("init get error"),console.log(e)})}},_=O,C=Object(f["a"])(_,n,s,!1,null,"d9c6e274",null),$=C.exports,I=o("5c96"),k=o.n(I),P=(o("0fae"),o("8c4f")),x=o("a7fe"),L=o.n(x),S=o("2f62"),T=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",[o("el-header",{attrs:{height:"200px"}},[o("el-carousel",{attrs:{trigger:"click",height:"200px",width:"105%"}},e._l(4,function(t){return o("el-carousel-item",{key:t},[o("h3",{staticClass:"small"},[e._v(e._s(t))])])}),1)],1)],1),o("el-divider"),o("el-row",{attrs:{gutter:10}},e._l(e.ProductList,function(t,r){return o("el-col",{key:r,attrs:{span:4}},[o("ProductCard",{attrs:{product:t},on:{leaveDefaultPage:function(t){return e.handleleaveMarket()}}})],1)}),1)],1)},j=[],U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{attrs:{"body-style":{padding:"0px",height:"400px",padding:"0"},shadow:"hover"}},[o("div",{staticStyle:{height:"60%",width:"100%"}},[o("img",{staticClass:"image",staticStyle:{height:"100%",float:"left",width:"100%"},attrs:{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png"}})]),o("div",[o("router-link",{attrs:{to:{name:"productInfo",params:{id:e.product.id}}},nativeOn:{click:function(t){return e.leaveProductListPage()}}},[o("p",[e._v(e._s(e.product.brandName)+" "+e._s(e.product.name))]),o("p",[e._v("售价： $"+e._s(e.product.price))])]),o("el-button",{attrs:{icon:"el-icon-plus",disabled:!e.isLogin},on:{click:function(t){return e.addToCartList()}}},[e._v("加入购物车")])],1)])},M=[],A=(o("8e6e"),o("ac6a"),o("456d"),o("bd86"));function N(e,t){var o=Object.keys(e);return Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(e)),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o}function E(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?N(o,!0).forEach(function(t){Object(A["a"])(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):N(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var B={props:["product"],methods:{addToCartList:function(){console.log("Id："+this.product.id),this.$store.dispatch("addToCartList",E({},this.product,{count:1}))},leaveProductListPage:function(){this.$emit("leaveDefaultPage")}},computed:{isLogin:function(){return this.$store.state.user.isLogin}}},D=B,W=(o("e6d0"),Object(f["a"])(D,U,M,!1,null,"20ec461d",null)),R=W.exports,F={data:function(){return{}},created:function(){console.log("init"),this.$store.dispatch("getAllProductList")},components:{ProductCard:R},computed:{ProductList:function(){var e=this;return"*"!==this.$store.state.productBrand?this.$store.state.products.filter(function(t){return t.brandName===e.$store.state.productBrand}):this.$store.state.products}},methods:{handleleaveMarket:function(){this.emit("leaveMarket")}}},z=F,G=(o("5bb8"),Object(f["a"])(z,T,j,!1,null,"60ef26ed",null)),H=G.exports,V=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"Username","label-position":"right"}},[o("el-input",{attrs:{size:"small"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:"Password","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit()}}},[e._v("Login")])],1)],1)],1)],1)},Q=[],J=o("5118"),X=(o("3e8f"),{data:function(){return{form:{username:"",password:""}}},methods:{onSubmit:function(){var e=this;console.log("submit!"),this.$store.dispatch("setUser",this.form),console.log("loading"),Object(J["setTimeout"])(function(){e.isLoginSuceessfully?(console.log("login suceess in vue"),console.log("vuex isLogin"+e.$store.state.user.isLogin),e.$router.push({name:e.routerName})):(console.log("login fail in Vue"),e.form={username:"",password:""},console.log(e.$store.state.loginMsg),e.$alert(e.$store.state.loginMsg,"Warning!",{confirmButtonText:"确定",callback:function(e){}}))},500)}},computed:{routerName:function(){return this.$store.state.routerName},isLoginSuceessfully:function(){return this.$store.state.user.isLogin}}}),q=X,K=(o("19d4"),Object(f["a"])(q,V,Q,!1,null,"76dc0dee",null)),Y=K.exports,Z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"用户名","label-position":"right"}},[o("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:"密码","label-position":"right"}},[o("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.Register()}}},[e._v("注册")]),o("el-button",{attrs:{type:"danger",round:""},on:{click:function(t){return e.goBack()}}},[e._v("取消")])],1)],1)],1)],1)},ee=[],te="/login",oe="/logout",re="/getUserInfo",ne="/register",se="/passwdModify",ae="",ie="/getAllProducts",le="/getCartList",ce="/getTotalPrice",ue="/addToCart",de="/deleteFromCart",fe="/changeCart",pe="/orderGen",me="/getUserOrders",ge="/getOrderProducts",he="/setOrderPay",be={loginApi:te,logoutApi:oe,getUserInfoApi:re,registerApi:ne,ModifyPwdApi:se,ModifyUserInfo:ae,getProductList:ie,getCartList:le,getTotalPrice:ce,addToCart:ue,removeCartItem:de,ChangeCart:fe,genOrder:pe,getUserOrders:me,getOrderItemProducts:ge,payForOrder:he},ve={data:function(){return{form:{username:"",password:""}}},methods:{Register:function(){console.log("start register!"),this.axios.post(be.registerApi,{username:this.form.username,password:this.form.password}).then(function(e){console.log("receive sucessful"),console.log(e);var t=e.data.router,o=e.data.msg;console.log(t+"\n"+o),console.log("register sucessfully"),this.$router.push({name:t})}.bind(this)).catch(function(e){console.log("can't connnect"),console.log(e)})},goBack:function(){this.$router.push("/")}}},we=ve,ye=(o("cbdd"),Object(f["a"])(we,Z,ee,!1,null,"33796e25",null)),Oe=ye.exports,_e=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"Email","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"text"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),o("el-form-item",{attrs:{label:"Address","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"text"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),o("el-form-item",{attrs:{label:"Telephone","label-position":"right",type:"number",prop:"telephone",rules:[{required:!0,message:"号码不能为空"},{type:"number",message:"号码必须为数字值"}]}},[o("el-input",{attrs:{type:"age",size:"small",maxlength:"11",minlength:"11",autocomplete:"off"},model:{value:e.form.telephone,callback:function(t){e.$set(e.form,"telephone",e._n(t))},expression:"form.telephone"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.UpdateUserInfo}},[e._v("Confirm")])],1)],1)],1)],1)},Ce=[],$e={data:function(){return{form:{email:"",address:"",telephone:""}}},methods:{UpdateUserInfo:function(){}},computed:{getUserInfo:function(){return{username:this.$store.state.user.username,name:this.$store.state.user.name,email:this.$store.state.user.email,address:this.$store.state.user.address,telephone:this.$store.state.user.telephone,idcard:this.$store.state.user.idcard}}}},Ie=$e,ke=(o("194a"),Object(f["a"])(Ie,_e,Ce,!1,null,"8b34a0b0",null)),Pe=ke.exports,xe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"OldPassWord","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.oldpassword,callback:function(t){e.$set(e.form,"oldpassword",t)},expression:"form.oldpassword"}})],1),o("el-form-item",{attrs:{label:"NewPassword","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.newpassword1,callback:function(t){e.$set(e.form,"newpassword1",t)},expression:"form.newpassword1"}})],1),o("el-form-item",{attrs:{label:"NewPassword","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.newpassword2,callback:function(t){e.$set(e.form,"newpassword2",t)},expression:"form.newpassword2"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("修改密码")])],1)],1)],1)],1)},Le=[],Se={data:function(){return{form:{oldpassword:"",newpassword1:"",newpassword2:""},pass:-1,checkpass:-1}},methods:{onSubmit:function(){var e=this;this.form.newpassword1!=this.form.newpassword2?(this.form={oldpassword:"",newpassword1:"",newpassword2:""},this.$alert("新密码不一致","Warning!",{confirmButtonText:"确定",callback:function(e){}})):this.form.oldpassword===this.form.newpassword1||this.form.oldpassword===this.form.newpassword2?(this.form={oldpassword:"",newpassword1:"",newpassword2:""},this.$alert("新旧密码重复","Warning!",{confirmButtonText:"确定",callback:function(e){}})):""===this.form.newpassword1||""===this.form.newpassword2?(this.form={oldpassword:"",newpassword1:"",newpassword2:""},this.$alert("新密码为空","Warning!",{confirmButtonText:"确定",callback:function(e){}})):(this.$store.dispatch("modifyPwd",this.form.newpassword1),Object(J["setTimeout"])(function(){"ModifySuccess"===e.$store.state.ModifyPwdMsg?e.$router.push({name:e.routerName}):(e.form={oldpassword:"",newpassword1:"",newpassword2:""},e.$alert("旧密码密码错误","Warning!",{confirmButtonText:"确定",callback:function(e){}}))},1e3))}},computed:{getUser:function(){return this.$store.state.user},routerName:function(){return this.$store.state.routerName}}},Te=Se,je=(o("883a"),Object(f["a"])(Te,xe,Le,!1,null,"46752adc",null)),Ue=je.exports,Me=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[o("h3",[e._v("用户信息")])]),e._l(e.getUserInfo,function(t,r,n){return o("div",{key:n,staticClass:"text item"},[o("el-card",[o("div",[o("h4",[e._v(e._s(r)+" : "+e._s(t))])])])],1)})],2)},Ae=[],Ne={computed:{getUserInfo:function(){return{username:this.$store.state.user.username,name:this.$store.state.user.name,email:this.$store.state.user.email,address:this.$store.state.user.address,telephone:this.$store.state.user.telephone,idcard:this.$store.state.user.idcard}}}},Ee=Ne,Be=(o("1617"),Object(f["a"])(Ee,Me,Ae,!1,null,"c7f1cf06",null)),De=Be.exports,We=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",[o("el-header",[o("el-page-header",{attrs:{content:"详情页面"},on:{back:e.goBack}})],1),o("el-main",[o("el-row",[o("el-col",{attrs:{span:8}},[o("img",{staticClass:"image",staticStyle:{height:"200px",margin:"auto"},attrs:{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png"}})]),o("el-col",{staticStyle:{"line-height":"30px"},attrs:{span:16}},[o("span",[e._v("品牌型号："+e._s(e.getProduct.brandName)+"-"+e._s(e.getProduct.name))]),o("el-divider"),o("span",[e._v("价格：$"+e._s(e.getProduct.price))])],1)],1),o("el-row",[o("el-col",{attrs:{span:24}},[o("p",[e._v(e._s(e.getProduct.description))])])],1)],1)],1)},Re=[],Fe={data:function(){return{id:this.$route.params.id}},methods:{goBack:function(){this.$router.push("/")}},computed:{getProduct:function(){console.log("this id is "+this.id);for(var e=0;e<this.$store.state.products.length;e++)if(this.$store.state.products[e].id===this.id)return console.log(this.$store.state.products[e]),this.$store.state.products[e]}}},ze=Fe,Ge=Object(f["a"])(ze,We,Re,!1,null,"2d992e52",null),He=Ge.exports,Ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-container",{staticStyle:{"line-height":"200px"}},[o("el-header",[o("h2",[e._v("我的购物车")])]),o("el-main",e._l(e.getCartList,function(t,r){return o("CartItem",{key:r,attrs:{CartItem:t},on:{add:function(o){return e.AddToCartTemp(t)},remove:function(o){return e.RemoveFromCartTemp(t)}}})}),1),o("el-footer",{staticStyle:{"line-height":"10px"}},[o("el-button",{attrs:{type:"primary",disabled:0===e.cartTemp.length},on:{click:function(t){return e.GenOrder()}}},[e._v("\n                生成新订单\n            ")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.goBackAndResetTempList()}}},[e._v("\n                返回购物车\n            ")])],1)],1)],1)},Qe=[],Je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:1}},[o("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),o("el-col",{attrs:{span:5}},[o("el-image",{staticStyle:{width:"140px",height:"140px"},attrs:{src:e.url,fit:e.fit}})],1),o("el-col",{attrs:{span:5}},[o("h4",[e._v(e._s(e.CartItem.brandName)+" "+e._s(e.CartItem.productName))]),o("p",[e._v(e._s(e.CartItem.description))]),o("p",[e._v(e._s(e.CartItem.price))])]),o("el-col",{staticStyle:{"line-height":"181px"},attrs:{span:5}},[o("div",{staticStyle:{"text-align":"center"}},[o("span",[e._v("\n                    购买数量:\n                ")]),o("span",[o("el-button",{on:{click:e.ReduceCount}},[e._v("-")]),o("span",[e._v("  "+e._s(e.ItemCount)+"  ")]),o("el-button",{on:{click:e.AddCount}},[e._v("+")])],1)])]),o("el-col",{staticStyle:{"line-height":"151px"},attrs:{span:4}},[o("p",[e._v("小计 $ "+e._s(e.SingleTotalPrice))])]),o("el-col",{staticStyle:{"line-height":"181px"},attrs:{span:4}},[o("el-button",{on:{click:function(t){return e.removeItem(e.CartItem.productId)}}},[e._v("移除此项")])],1)],1),o("el-divider")],1)},Xe=[],qe={props:["CartItem"],data:function(){return{url:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",checked:!1}},methods:{AddCount:function(){this.ChangeCount(1)},ReduceCount:function(){this.ChangeCount(-1)},ChangeCount:function(e){console.log("In Vue Change count"),this.$store.dispatch("ChangeCartItemCount",{productId:this.CartItem.productId,count:e})},removeItem:function(e){this.$store.dispatch("RemoveCartItemFromList",e)}},computed:{ProductItem:function(){var e=this;return this.$store.state.products.filter(function(t){return t.id===e.CartItem.id})},SingleTotalPrice:function(){return this.CartItem.count*this.CartItem.price},ItemCount:function(){return this.CartItem.count}},watch:{checked:function(e,t){e?(console.log(this.CartItem.productId+" be select "+this.checked),this.$emit("add")):(console.log(this.CartItem.productId+" be unselect "+this.checked),this.$emit("remove"))}}},Ke=qe,Ye=(o("f675"),Object(f["a"])(Ke,Je,Xe,!1,null,"06dea8e6",null)),Ze=Ye.exports;function et(e,t){var o=Object.keys(e);return Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(e)),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o}function tt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?et(o,!0).forEach(function(t){Object(A["a"])(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):et(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var ot={data:function(){return{cartTemp:[]}},components:{CartItem:Ze},methods:{AddToCartTemp:function(e){console.log("add"),this.cartTemp.push(e),console.log(this.cartTemp)},RemoveFromCartTemp:function(e){console.log("remove"),this.cartTemp=this.cartTemp.filter(function(t){return t.productId!==e.productId}),console.log(this.cartTemp)},goBackAndResetTempList:function(){this.cartTemp=[],this.$router.push("/")},GenOrder:function(){var e=this;this.$store.dispatch("SetCartTemp",this.cartTemp),console.log("gen success"),Object(J["setTimeout"])(function(){e.$router.push(e.$store.state.routerName)},500)}},computed:{getCartList:function(){return tt({},this.$store.state.user.cart)}}},rt=ot,nt=(o("49ca"),Object(f["a"])(rt,Ve,Qe,!1,null,"deb425c4",null)),st=nt.exports,at=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-container",[o("el-main",[o("h4",{staticStyle:{float:"left"}},[e._v("订单号："+e._s(e.OrderInfo[0].orderId))]),o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.OrderInfo}},[o("el-table-column",{attrs:{prop:"productName",label:"名称"}}),o("el-table-column",{attrs:{prop:"price",label:"单价"}}),o("el-table-column",{attrs:{prop:"count",label:"数量"}}),o("el-table-column",{attrs:{label:"价格小计"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v(" $ "+e._s(t.row.count*t.row.price))])]}}])})],1),o("span",{staticStyle:{float:"right"}},[e._v("$ "+e._s(e.TotalPrice))])],1),o("el-footer",{staticStyle:{"line-height":"10px"}},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.OrderInfo[0].payStatus,expression:"!OrderInfo[0].payStatus"}],attrs:{type:"primary"},on:{click:function(t){return e.Pay()}}},[e._v("\n                支付\n            ")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.goBack()}}},[e._v("\n                返回\n            ")])],1)],1)},it=[],lt={computed:{OrderInfo:function(){return this.$store.state.user.orderTemp},TotalPrice:function(){for(var e=0,t=0;t<this.OrderInfo.length;t++)e+=this.OrderInfo[t].price*this.OrderInfo[t].count;return e}},methods:{Pay:function(){var e=this;this.$store.dispatch("setOrderPay",this.OrderInfo[0].orderId),Object(J["setTimeout"])(function(){e.$router.push({name:"myOrders"})},500)},goBack:function(){this.$router.push({name:"myOrders"})}}},ct=lt,ut=Object(f["a"])(ct,at,it,!1,null,"784f9651",null),dt=ut.exports,ft=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.MyOrder}},[o("el-table-column",{attrs:{label:"支付状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v("\n                "+e._s(t.row.payStatus?"已支付":"未支付")+"\n            ")])]}}])}),o("el-table-column",{attrs:{prop:"orderId",label:"订单号"}}),o("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),o("el-table-column",{attrs:{prop:"address",label:"地址"}}),o("el-table-column",{attrs:{prop:"totalPrice",label:"总价"}}),o("el-table-column",{attrs:{label:"发货状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v("\n              "+e._s(t.row.postStatus?"已发货":"未发货")+"\n          ")])]}}])}),o("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:t.row.payStatus?"primary":"info"},on:{click:function(o){return e.getOrderProducts(t.row.orderId)}}},[e._v("\n            查看详情\n        ")])]}}])})],1)},pt=[],mt={computed:{MyOrder:function(){return this.$store.state.user.orders}},methods:{getOrderProducts:function(e){var t=this;console.log("get item id"),console.log(e),this.$store.dispatch("getOrderItem",e),Object(J["setTimeout"])(function(){t.$router.push({name:t.$store.state.routerName})},500)}}},gt=mt,ht=Object(f["a"])(gt,ft,pt,!1,null,"6846056e",null),bt=ht.exports,vt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.CartTempList}},[o("el-table-column",{attrs:{label:"品牌"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.brandId))])]}}])}),o("el-table-column",{attrs:{prop:"productName",label:"名称"}}),o("el-table-column",{attrs:{prop:"price",label:"单价"}}),o("el-table-column",{attrs:{label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.count)+"件")])]}}])}),o("el-table-column",{attrs:{label:"价格小计"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v(" $ "+e._s(t.row.count*t.row.price))])]}}])})],1),o("el-card",[o("el-form",{staticClass:"demo-form-inline",staticStyle:{"line-height":"1px"},attrs:{inline:!0,model:e.formInline}},[o("el-form-item",{attrs:{label:"邮寄人姓名"}},[o("el-input",{attrs:{placeholder:"邮寄人姓名"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1),o("el-form-item",{attrs:{label:"邮寄地址"}},[o("el-input",{attrs:{placeholder:"邮寄地址"},model:{value:e.formInline.address,callback:function(t){e.$set(e.formInline,"address",t)},expression:"formInline.address"}})],1),o("el-form-item",{attrs:{label:"电话号码"}},[o("el-input",{attrs:{placeholder:"电话号码"},model:{value:e.formInline.telephone,callback:function(t){e.$set(e.formInline,"telephone",t)},expression:"formInline.telephone"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.ConfirmOrder()}}},[e._v("确认订单")])],1)],1)],1)],1)},wt=[],yt=o("75fc"),Ot={data:function(){return{formInline:{name:this.$store.state.user.name,address:this.$store.state.user.address,telephone:this.$store.state.user.telephone}}},methods:{ConfirmOrder:function(){var e=this;this.$store.dispatch("OrderGen",{order:[this.formInline].concat(Object(yt["a"])(this.CartTempList))}),Object(J["setTimeout"])(function(){"myOrders"===e.$store.state.routerName?e.$router.push({name:e.$store.state.routerName}):(e.$router.push({name:e.$store.state.routerName}),console.log("generate order fail"))},500)}},computed:{CartTempList:function(){return this.$store.state.user.cartTemp}}},_t=Ot,Ct=(o("e4bb"),Object(f["a"])(_t,vt,wt,!1,null,"1126d1df",null)),$t=Ct.exports,It=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._v("\n    Admin\n")])},kt=[],Pt={},xt=Pt,Lt=Object(f["a"])(xt,It,kt,!1,null,"8d1648a8",null),St=Lt.exports,Tt=[{path:"/admin",name:"adminPage",component:St},{path:"/",name:"default",component:H},{path:"/product",name:"productInfo",component:He},{path:"/MyCart",name:"mycart",component:st},{path:"/OrderInfo",name:"orderinfo",component:dt},{path:"/MyOrders",name:"myOrders",component:bt},{path:"/GenOrder",name:"genorder",component:$t},{path:"/LoginPage",name:"login",component:Y},{path:"/RegisterPage",name:"register",component:Oe},{path:"/ModifyPassWord",name:"modifyPassWord",component:Ue},{path:"/QueryDataPage/:username",name:"QueryUserData",component:De},{path:"/ModifyPage",name:"modifyData",component:Pe},{path:"/index",redirect:"/"},{path:"/404",redirect:"/"}],jt=Tt;function Ut(e,t){var o=Object.keys(e);return Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(e)),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o}function Mt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ut(o,!0).forEach(function(t){Object(A["a"])(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ut(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var At={state:{user:{uid:"",username:"guest",password:"",userType:"user",email:"",address:"",telephone:"",name:"",idcard:"",isLogin:!1,cart:[],cartTemp:[],orders:[],orderTemp:[]},products:[],productBrand:"*",routerName:"",ModifyPwdMsg:"",loginMsg:""},mutations:{modifyBrand:function(e,t){e.productBrand=t},CheckLoginUser:function(e,t){"guest"!==t?(e.user.username=t,e.user.isLogin=!0):e.user.isLogin=!1},setUser:function(e,t){console.log("inner data is "),console.log(t),e.loginMsg=t.data.msg,e.user.userType=t.data.userType,"LoginSuccess"===t.data.msg?(e.user.username=t.newUser.username,e.user.password=t.newUser.password,"admin"===e.user.userType?e.routerName="adminPage":e.routerName=t.data.router,e.user.isLogin=!0):(e.routerName="login",e.user.isLogin=!1)},setLoginMsg:function(e,t){e.loginMsg=t},setUserInfo:function(e,t){console.log(t),e.routerName=t.data[0].router,e.user.email=t.data[1].email,e.user.telephone=t.data[1].telephone,e.user.name=t.data[1].name,e.user.address=t.data[1].address,e.user.idcard=t.data[1].idcard},updateUserInfo:function(e,t){console.log("update UserInfo success"),console.log(t),e.user.email=t.data[1].email,e.user.telephone=t.data[1].telephone,e.user.name=t.data[1].name,e.user.address=t.data[1].address,e.user.idcard=t.data[1].idcard},modifyUserInfo:function(e,t){console.log(e),console.log(t)},modifyPwd:function(e,t){"ModifySuccess"===t.data.msg?(console.log("modify successfully"),e.user.password=t.newpwd,e.user.address=t.data[1].address,e.user.email=t.data[1].email,e.user.uid=t.data[1].uid,e.user.telephone=t.data[1].telephone,e.user.name=t.data[1].name,e.user.idcard=t.data[1].idcard):console.log("ModifyFail"),e.ModifyPwdMsg=t.data[0].msg,console.log("local msg is:"+e.ModifyPwdMsg),e.routerName=t.data[0].router},logout:function(e,t){e.user=Mt({},{uid:"",username:"guest",password:"",userType:"user",email:"",address:"",telephone:"",name:"",idcard:"",isLogin:!1,cart:[],cartTemp:[],orders:[],orderTemp:[]}),e.loginMsg="",e.routerName=t.data.router},getAllProductList:function(e,t){e.products=t.data},getCartList:function(e,t){e.user.cart=t.data},SetCartTemp:function(e,t){e.user.cartTemp=t,e.routerName="genorder"},RemoveCartItemFromList:function(e,t){e.user.cart=e.user.cart.filter(function(e){return e.productId!==t}),console.log("update local success"),console.log(e.user.cart)},ChangeCartItemCount:function(e,t){console.log("inner data"),console.log(t);for(var o=0;o<e.user.cart.length;o++)e.user.cart[o].productId===t.productId&&(e.user.cart[o].count=t.tempCount)},OrderGen:function(e,t){e.routerName=t.router},getOrdersList:function(e,t){e.user.orders=t.data,console.log("after update local orders success in store"),console.log(e)},getOrderItem:function(e,t){e.user.orderTemp=[],e.user.orderTemp=t,e.routerName="orderinfo",console.log("update local orderItemTemp success")}},actions:{ModifyBrand:function(e,t){e.commit("modifyBrand",t)},CheckLoginUser:function(e,t){e.commit("CheckLoginUser",t)},setUser:function(e,t){y.a.post(be.loginApi,{username:t.username,password:t.password}).then(function(o){console.log("receive sucessful"),console.log(o),"default"===o.data.router?(console.log("login suceess"),e.commit("setUser",Mt({},o,{newUser:t})),e.dispatch("updateUserInfo"),console.log("after update user info in login"),console.log(e.state)):(console.log("login fail error username"),e.commit("setLoginMsg",o.data.msg))}).catch(function(e){console.log("can't connnect"),console.log(e)})},setUserInfo:function(e){y.a.post(be.getUserInfoApi,{username:e.state.user.username}).then(function(t){console.log("gup receive sucessful"),console.log(t),e.commit("setUserInfo",t)}).catch(function(e){console.log("gup can't connnect"),console.log(e)})},updateUserInfo:function(e){y.a.post(be.getUserInfoApi,{username:e.state.user.username}).then(function(t){console.log("gup update receive sucessful"),console.log(t),e.commit("updateUserInfo",t)}).catch(function(e){console.log("gup can't connnect"),console.log(e)})},modifyPwd:function(e,t){y.a.post(be.ModifyPwdApi,{password:e.state.user.password,newpassword:t}).then(function(o){console.log("receive successfully"),console.log(o),e.commit("modifyPwd",Mt({},o,{newpwd:t}))}).catch(function(e){console.log("modifypwd fail"),console.log(e)})},modifyUserInfo:function(e,t){e.commit("modifyUserInfo",t)},logout:function(e){y.a.get(be.logoutApi).then(function(t){console.log("logout successfully"),console.log(t),e.commit("logout",t)}).catch(function(e){console.log("logout fail"),console.log(e)})},getAllProductList:function(e){y.a.get(be.getProductList).then(function(t){console.log("get list successfully"),console.log(t),e.commit("getAllProductList",t),console.log(e.state.products)}).catch(function(e){console.log("get list fail"),console.log(e)})},getCartList:function(e){y.a.get(be.getCartList).then(function(t){console.log("get Cartlist suceess"),console.log(t),e.commit("getCartList",t),console.log("local cart: "),console.log(e.state.user.cart)}).catch(function(e){console.log("get Cartlist fail"),console.log(e)})},addToCartList:function(e,t){y.a.post(be.addToCart,{productId:t.id,count:t.count}).then(function(t){"success"===t.data.msg?(console.log("add suceess"),console.log(t),e.dispatch("getCartList")):(console.log("add fail"),console.log(error))}).catch(function(e){console.log("add fail"),console.log(e)})},SetCartTemp:function(e,t){e.commit("SetCartTemp",t)},RemoveCartItemFromList:function(e,t){y.a.post(be.removeCartItem,{productId:t}).then(function(t){console.log("connect success!"),console.log(t),console.log("update local cart after remove someone item in cart"),e.dispatch("getCartList")}).catch(function(e){console.log("connect fail"),console.log(e)})},ChangeCartItemCount:function(e,t){y.a.post(be.ChangeCart,t).then(function(o){console.log("change count success"),"success"===o.data.msg?e.commit("ChangeCartItemCount",{productId:t.productId,tempCount:o.data.count}):console.log("change count fail")}).catch(function(e){console.log("connect fail"),console.log(e)})},OrderGen:function(e,t){y.a.post(be.genOrder,t.order).then(function(t){console.log(t),"success"===t.data.msg&&(e.commit("OrderGen",t.data),e.dispatch("getCartList"),e.dispatch("getOrdersList"))}).catch(function(e){console.log("connect fail"),console.log(e)})},getOrdersList:function(e){y.a.get(be.getUserOrders).then(function(t){console.log("update loacl orders list success"),console.log(t),e.commit("getOrdersList",t)}).catch(function(e){console.log("connect fail"),console.log(e)})},getOrderItem:function(e,t){console.log("orderid will be sent"),console.log({orderId:t}),y.a.post(be.getOrderItemProducts,{orderId:t}).then(function(t){console.log("get success"),console.log(t),e.commit("getOrderItem",t.data)}).catch(function(e){console.log("get fail"),console.log(e)})},setOrderPay:function(e,t){y.a.post(be.payForOrder,{orderId:t}).then(function(t){console.log("get success"),console.log(t),"success"===t.data.msg?(console.log("pay success"),e.dispatch("getOrdersList")):console.log("pay fail")}).catch(function(e){console.log("pay connect fail"),console.log(e)})}}},Nt=At;r["default"].use(P["a"]),r["default"].use(k.a),r["default"].use(L.a,y.a),r["default"].use(S["a"]),r["default"].config.productionTip=!1;var Et=new P["a"]({mode:"history",routes:jt}),Bt=new S["a"].Store(Nt);new r["default"]({router:Et,store:Bt,render:function(e){return e($)}}).$mount("#app")},"5bb8":function(e,t,o){"use strict";var r=o("78d1"),n=o.n(r);n.a},6215:function(e,t,o){},"78d1":function(e,t,o){},"7cab":function(e,t,o){"use strict";var r=o("6215"),n=o.n(r);n.a},"883a":function(e,t,o){"use strict";var r=o("3b12"),n=o.n(r);n.a},"8eb7":function(e,t,o){},"928b":function(e,t,o){},ad31:function(e,t,o){},ad5c:function(e,t,o){},c69b:function(e,t,o){},cbdd:function(e,t,o){"use strict";var r=o("0ff6"),n=o.n(r);n.a},cf05:function(e,t,o){e.exports=o.p+"img/logo.82b9c7a5.png"},e4bb:function(e,t,o){"use strict";var r=o("ad5c"),n=o.n(r);n.a},e6d0:function(e,t,o){"use strict";var r=o("ed01"),n=o.n(r);n.a},ed01:function(e,t,o){},efd5:function(e,t,o){},f675:function(e,t,o){"use strict";var r=o("efd5"),n=o.n(r);n.a},f908:function(e,t,o){}});
//# sourceMappingURL=app.e7caee46.js.map