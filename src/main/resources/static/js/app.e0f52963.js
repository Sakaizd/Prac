(function(e){function t(t){for(var r,a,i=t[0],l=t[1],u=t[2],d=0,f=[];d<i.length;d++)a=i[d],s[a]&&f.push(s[a][0]),s[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(f.length)f.shift()();return n.push.apply(n,u||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],r=!0,i=1;i<o.length;i++){var l=o[i];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=a(a.s=o[0]))}return e}var r={},s={app:0},n=[];function a(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=r,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"0439":function(e,t,o){},3906:function(e,t,o){"use strict";var r=o("0439"),s=o.n(r);s.a},5659:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("HelloWorld")],1)},n=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("el-container",[r("el-header",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("div",{staticStyle:{display:"inline-block",float:"left"}},[r("router-link",{attrs:{to:"/index"},nativeOn:{click:function(t){return e.handleChangePage(!0)}}},[e._v("Home")]),e.isLogin?r("span",{staticStyle:{margin:"20px"}},[e._v("Hello "+e._s(e.getUser.username))]):e._e()],1)]),r("el-col",{attrs:{span:8}},[r("div",{staticStyle:{display:"inline-block",float:"left"}},[r("img",{attrs:{src:o("cf05"),width:"30%"}})])]),r("el-col",{attrs:{span:6}},[r("div",{staticStyle:{display:"inline-block",float:"left"}},[r("el-dropdown",[r("span",{staticClass:"el-dropdown-link"},[e._v("\n                  下拉菜单"),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",[r("router-link",{attrs:{to:{name:"QueryUserData",params:{username:e.getUser.username}}},nativeOn:{click:function(t){return e.getUserInfoForVuex()}}},[e._v("\n                      个人信息\n                    ")])],1),r("el-dropdown-item",[r("router-link",{attrs:{to:"/ModifyPage"}},[e._v("修改资料")])],1),r("el-dropdown-item",[r("router-link",{attrs:{to:"/ModifyPassWord"}},[e._v("修改密码")])],1)],1)],1)],1)]),r("el-col",{attrs:{span:5}},[r("div",{staticStyle:{display:"inline-block",float:"right"}},[r("ul",[r("li",[r("span",[r("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isLogin,expression:"!isLogin"}],attrs:{to:"/LoginPage"},nativeOn:{click:function(t){return e.handleChangePage(!1)}}},[e._v("\n                        login\n                      ")]),r("form",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}],attrs:{action:"/logout",method:"GET"}},[r("input",{attrs:{type:"submit",value:"logout"},on:{click:function(t){return e.LogoutUser()}}})])],1)]),r("li",[r("span",[r("router-link",{attrs:{to:"/RegisterPage"},nativeOn:{click:function(t){return e.handleChangePage(!1)}}},[e._v("\n                        Register\n                      ")])],1)])])])])],1)],1),r("el-container",{staticStyle:{height:"480px",border:"1px solid #eee"}},[r("transition",{attrs:{name:"el-fade-in-linear"}},[r("el-aside",{directives:[{name:"show",rawName:"v-show",value:e.inMarket,expression:"inMarket"}],attrs:{width:"200px"}},[r("el-button",{staticClass:"el-icon-d-arrow-left",staticStyle:{float:"right",width:"100%"},attrs:{type:"parmary"},on:{click:function(t){return e.handleChangePage(!e.inMarket)}}}),r("nav",[r("ul",[r("li",[e._v("a")]),r("li",[e._v("a")]),r("li",[e._v("a")]),r("li",[e._v("a")])])])],1)],1),r("transition",{attrs:{name:"el-fade-in-linear"}},[r("el-aside",{directives:[{name:"show",rawName:"v-show",value:!e.inMarket,expression:"!inMarket"}],staticClass:"closeBar",attrs:{width:"55px"}},[r("el-button",{staticClass:"el-icon-d-arrow-right",attrs:{type:"parmary"},on:{click:function(t){return e.handleChangePage(!e.inMarket)}}})],1)],1),r("el-main",[r("router-view",{on:{loginSuccess:e.setUser}})],1)],1),r("el-footer",[e._v("Footer")])],1)],1)},i=[],l={name:"HelloWorld",data:function(){return{inMarket:!0}},computed:{getUser:function(){return this.$store.state.user},isLogin:function(){return this.getUser.isLogin}},methods:{handleChangePage:function(e){console.log("change Page!"),this.inMarket=e},setUser:function(){""!=this.getUser.username&&console.log("not empty"),this.inMarket=!0},getUserInfoForVuex:function(){console.log("get before"),this.$store.dispatch("getUserInfo"),console.log("get after the vuex state"),console.log(this.$store.state)},LogoutUser:function(){this.isLogin?this.$store.dispatch("logout"):this.isLogin=!1}}},u=l,c=(o("b47f"),o("2877")),d=Object(c["a"])(u,a,i,!1,null,"5a7f2e41",null),f=d.exports,m={name:"app",components:{HelloWorld:f},created:function(){var e=this;sessionStorage.getItem("store")&&(this.$store.replaceState(Object.assign({},this.$store.state,JSON.parse(sessionStorage.getItem("store")))),sessionStorage.removeItem("store")),window.addEventListener("beforeunload",function(){sessionStorage.setItem("store",JSON.stringify(e.$store.state))})}},p=m,g=Object(c["a"])(p,s,n,!1,null,"f76edd06",null),h=g.exports,w=o("5c96"),v=o.n(w),b=(o("0fae"),o("8c4f")),y=o("bc3a"),k=o.n(y),_=o("a7fe"),x=o.n(_),$=o("2f62"),P=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"Username","label-position":"right"}},[o("el-input",{attrs:{size:"small"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:"Password","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("login")])],1)],1)],1)],1)},U=[],S={data:function(){return{form:{username:"",password:""}}},methods:{onSubmit:function(){console.log("submit!"),this.$store.dispatch("setUser",this.form),this.$emit("loginSuccess"),this.$router.push({name:this.routerName})}},computed:{routerName:function(){return this.$store.state.routerName}}},O=S,M=(o("cfed"),Object(c["a"])(O,P,U,!1,null,"bafe8904",null)),N=M.exports,I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._v("\n    Main\n")])},L=[],j={},C=j,E=Object(c["a"])(C,I,L,!1,null,"5a13db74",null),W=E.exports,z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"用户名","label-position":"right"}},[o("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),o("el-form-item",{attrs:{label:"密码","label-position":"right"}},[o("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.Register()}}},[e._v("注册")]),o("el-button",{attrs:{type:"danger",round:""}},[e._v("取消")])],1)],1)],1)],1)},A=[],T={data:function(){return{form:{username:"",password:""}}},methods:{Register:function(){console.log("start register!"),localStorage.setItem("username",this.form.username),this.$router.push("/LoginPage")}}},H=T,R=(o("3906"),Object(c["a"])(H,z,A,!1,null,"363d2e4e",null)),D=R.exports,J=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"OldPassWord","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.oldpassword,callback:function(t){e.$set(e.form,"oldpassword",t)},expression:"form.oldpassword"}})],1),o("el-form-item",{attrs:{label:"NewPassword","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.newpassword1,callback:function(t){e.$set(e.form,"newpassword1",t)},expression:"form.newpassword1"}})],1),o("el-form-item",{attrs:{label:"NewPassword","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.newpassword2,callback:function(t){e.$set(e.form,"newpassword2",t)},expression:"form.newpassword2"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("login")])],1)],1)],1)],1)},B=[],F={},Q=F,V=(o("778a"),Object(c["a"])(Q,J,B,!1,null,"57e6b6ea",null)),G=V.exports,q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"50px"}},[o("el-form-item",{attrs:{label:"OldPassWord","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.oldpassword,callback:function(t){e.$set(e.form,"oldpassword",t)},expression:"form.oldpassword"}})],1),o("el-form-item",{attrs:{label:"NewPassword","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.newpassword1,callback:function(t){e.$set(e.form,"newpassword1",t)},expression:"form.newpassword1"}})],1),o("el-form-item",{attrs:{label:"NewPassword","label-position":"right"}},[o("el-input",{attrs:{size:"small",type:"password"},model:{value:e.form.newpassword2,callback:function(t){e.$set(e.form,"newpassword2",t)},expression:"form.newpassword2"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("login")])],1)],1)],1)],1)},K=[],X={data:function(){return{form:{oldpassword:"",newpassword1:"",newpassword2:""},pass:-1,checkpass:-1}},methods:{onSubmit:function(){this.form.oldpassword!=this.getUser.password?(this.form={oldpassword:"",newpassword1:"",newpassword2:""},this.$alert("旧密码错误","Warning!",{confirmButtonText:"确定",callback:function(e){}})):this.form.newpassword1!=this.form.newpassword2?this.$alert("新密码不一致","Warning!",{confirmButtonText:"确定",callback:function(e){}}):(this.$store.dispatch("modifyPwd",this.form.newpassword1),this.$router.push({name:this.routerName}))}},computed:{getUser:function(){return this.$store.state.user},routerName:function(){return this.$store.state.routerName}}},Y=X,Z=(o("9dc9"),Object(c["a"])(Y,q,K,!1,null,"5e6e8494",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("UserInfo")]),o("ul",e._l(e.getUserInfo,function(t,r,s){return o("li",{key:s},[e._v("\n            "+e._s(r)+" is "+e._s(t)+"\n        ")])}),0)])},oe=[],re=(o("7f7f"),{computed:{getUserInfo:function(){return{username:this.$store.state.user.username,name:this.$store.state.user.name,email:this.$store.state.user.email,address:this.$store.state.user.address,telephone:this.$store.state.user.telephone,idcard:this.$store.state.user.idcard}}}}),se=re,ne=(o("d7ca"),Object(c["a"])(se,te,oe,!1,null,"2e56a672",null)),ae=ne.exports,ie=[{path:"/",name:"default",component:W},{path:"/LoginPage",name:"login",component:N},{path:"/RegisterPage",name:"register",component:D},{path:"/ModifyPassWord",name:"modifyPassWord",component:ee},{path:"/QueryDataPage/:username",name:"QueryUserData",component:ae},{path:"/ModifyPage",name:"modifyData",component:G},{path:"/index",redirect:"/"}],le=ie,ue="/login",ce="/getUserInfo",de="/register",fe="/passwdModify",me={loginApi:ue,getUserInfoApi:ce,registerApi:de,ModifyPwdApi:fe},pe={state:{user:{uid:"",username:"",password:"",email:"",address:"",telephone:"",name:"",idcard:"",isLogin:!1,cart:[],order:[]},products:[{productId:"",productName:"",productPrice:0},{productId:"",productName:"",productPrice:0}],routerName:""},mutations:{increment:function(e){e.count++},setUser:function(e,t){k.a.post(me.loginApi,{username:t.username,password:t.password}).then(function(o){console.log("receive sucessful"),console.log(o),e.routerName=o.data.router,e.user.username=t.username,e.user.password=t.password,e.user.isLogin=!0}).catch(function(e){console.log("can't connnect"),console.log(e)})},getUserInfo:function(e){k.a.post(me.getUserInfoApi,{username:e.user.username}).then(function(t){console.log("gup receive sucessful"),console.log(t),e.routerName=t.data[0].router,e.user.email=t.data[1].email,e.user.telephone=t.data[1].telephone,e.user.name=t.data[1].name,e.user.address=t.data[1].address,e.user.idcard=t.data[1].idcard}).catch(function(e){console.log(" gupcan't connnect"),console.log(e)})},modifyPwd:function(e,t){k.a.post(me.ModifyPwdApi,{username:e.user.username,password:t}).then(function(o){console.log("receive successfully"),console.log(o),"ModifySuccess"===o.data.msg&&(console.log("modify successfully"),e.user.password=t),e.routerName=o.data.router}).catch(function(e){console.log("modifypwd fail"),console.log(e)})},logout:function(e){e.user.username="",e.user.password="",e.user.isLogin=!1}},actions:{increment:function(e){e.commit("increment")},setUser:function(e,t){e.commit("setUser",t)},getUserInfo:function(e){e.commit("getUserInfo")},modifyPwd:function(e,t){e.commit("modifyPwd",t)},logout:function(e){e.commit("logout")}}},ge=pe;r["default"].use(b["a"]),r["default"].use(v.a),r["default"].use(x.a,k.a),r["default"].use($["a"]),r["default"].config.productionTip=!1;var he=new b["a"]({mode:"history",routes:le}),we=new $["a"].Store(ge);new r["default"]({router:he,store:we,render:function(e){return e(h)}}).$mount("#app")},"57ef":function(e,t,o){},"5d6e":function(e,t,o){},"778a":function(e,t,o){"use strict";var r=o("5659"),s=o.n(r);s.a},"9dc9":function(e,t,o){"use strict";var r=o("d406"),s=o.n(r);s.a},a950:function(e,t,o){},b47f:function(e,t,o){"use strict";var r=o("57ef"),s=o.n(r);s.a},cf05:function(e,t,o){e.exports=o.p+"img/logo.82b9c7a5.png"},cfed:function(e,t,o){"use strict";var r=o("a950"),s=o.n(r);s.a},d406:function(e,t,o){},d7ca:function(e,t,o){"use strict";var r=o("5d6e"),s=o.n(r);s.a}});
//# sourceMappingURL=app.e0f52963.js.map